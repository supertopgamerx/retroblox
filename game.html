<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DynaBlocks 2005</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Courier New', Courier, monospace; }
        #ui { position: absolute; top: 10px; left: 10px; color: white; text-shadow: 1px 1px #000; pointer-events: none; }
    </style>
</head>
<body>
    <div id="ui">DynaBlocks Beta 0.1</div>
    <!-- Load Three.js -->
    <script src="https://cdnjs.cloudflare.com"></script>
    
    <script>
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x5271FF); // Classic bright sky

        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(20, 15, 20);
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: false });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Retro Lighting
        const light = new THREE.DirectionalLight(0xffffff, 1.2);
        light.position.set(5, 10, 7);
        scene.add(light);
        scene.add(new THREE.AmbientLight(0x666666));

        // Procedural "Stud" Texture for that real plastic look
        const canvas = document.createElement('canvas');
        canvas.width = 64; canvas.height = 64;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, 64, 64);
        ctx.fillStyle = '#cccccc';
        ctx.beginPath(); ctx.arc(32, 32, 20, 0, Math.PI * 2); ctx.fill(); // The Stud
        const studTexture = new THREE.CanvasTexture(canvas);
        studTexture.repeat.set(2, 1);
        studTexture.wrapS = THREE.RepeatWrapping;

        // Baseplate
        const bpGeo = new THREE.BoxGeometry(100, 1, 100);
        const bpMat = new THREE.MeshLambertMaterial({ color: 0x228B22 });
        const baseplate = new THREE.Mesh(bpGeo, bpMat);
        scene.add(baseplate);

        // Brick Builder Function
        function createBrick(x, y, z, color) {
            const geometry = new THREE.BoxGeometry(4, 1.2, 2);
            // Multi-material: Studs on top (index 2), plain sides
            const materials = [
                new THREE.MeshLambertMaterial({ color: color }), // right
                new THREE.MeshLambertMaterial({ color: color }), // left
                new THREE.MeshLambertMaterial({ color: color, map: studTexture }), // top
                new THREE.MeshLambertMaterial({ color: color }), // bottom
                new THREE.MeshLambertMaterial({ color: color }), // front
                new THREE.MeshLambertMaterial({ color: color })  // back
            ];
            const brick = new THREE.Mesh(geometry, materials);
            brick.position.set(x, y + 0.6, z); // Offset by half height
            scene.add(brick);
            return brick;
        }

        // Build some OG structures
        createBrick(0, 0.5, 0, 0xff0000);   // Bright Red
        createBrick(0, 1.7, 0, 0xffff00);   // Bright Yellow
        createBrick(5, 0.5, -5, 0x0000ff);  // Bright Blue

        function animate() {
            requestAnimationFrame(animate);
            // Spin like an old showcase
            const time = Date.now() * 0.0005;
            camera.position.x = Math.cos(time) * 30;
            camera.position.z = Math.sin(time) * 30;
            camera.lookAt(0, 2, 0);
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
